<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="initial-scale=1.0">
   <link rel="stylesheet" href="style.css">
   <script src="./build/aya.js"></script>
   <title>ayajs</title>
</head>

<body>
   <script>
      var svg;
      console.log(aya);
      svg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
      svg.setAttribute("width", 1300);
      svg.setAttribute("height", 600);
      svg.setAttribute("id", "svg");


      svg.addEventListener("mousemove", aya.events.mouseMoveCb);
      svg.addEventListener("mouseup", aya.events.mouseUpCb);

      var tri = new aya.Component("triangle", {
         x1: 125,
         y1: 100,
         x2: 124,
         y2: 400,
         x3: 300,
         y3: 600
      });

      var rect = new aya.Component("rectangle",{
         x: 550,
         y: 250,
         width: 100,
         height: 100
      }, [
         {
            type: "circle",
            ratio: {x: 1/2, y: 1/2, r: 1/2},
            zoom: false
         },
         // {
         //    type: "rectangle",
         //    ratio: {x: 1/2, y: 1/2, width: 1/4, height: 1/4}
         // },
         {
            type: "triangle",
            ratio: {p1:{x: 3/5, y: 1/6}, p2:{x: 1 /7, y: 4/7}, p3:{x: 3/4, y: 1/4}},
            zoom: false
         }
      ]);

      rect.form.children.map( (child) => {
         if(child.type == "triangle"){
            console.log(aya._Register.find(child.uuid));
            child.events.add(child.c_svg, "mousedown", aya.events.mouseDownCb);
            child.events.create();
         }
      })

      document.body.append(svg);
   </script>

</body>

</html>